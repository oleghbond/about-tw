<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.19" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>Як додати інтерактивну SVG-схему: Про Тідлівікі — Посібник для користування Тідлівікі 5+






</title>
</head>
<body class="tc-body">

<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists   tc-tagged-%D0%A1%D1%83%D0%BC%D1%96%D1%81%D0%BD%D0%B0%20%D1%80%D0%BE%D0%B1%D0%BE%D1%82%D0%B0%20%D0%B2%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%96 " data-tags="[[Сумісна робота в проекті]]" data-tiddler-title="Як додати інтерактивну SVG-схему"><div class="tc-tiddler-title">
<div class="tc-titlebar">
<span class="tc-tiddler-controls">
<span class=" tc-reveal"><button aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button class="tc-btn-invisible tc-btn-%24%3A%2Fboa%2Fswapbutton">

<span title=""><img src="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%0A%3C!--%20Creator%3A%20CorelDRAW%20X7%20--%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xml%3Aspace%3D%22preserve%22%20width%3D%2245px%22%20height%3D%2230px%22%20version%3D%221.1%22%20style%3D%22shape-rendering%3AgeometricPrecision%3B%20text-rendering%3AgeometricPrecision%3B%20image-rendering%3AoptimizeQuality%3B%20fill-rule%3Aevenodd%3B%20clip-rule%3Aevenodd%22%0AviewBox%3D%220%200%2047%2031%22%0A%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%3Cdefs%3E%0A%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%20%20%20%3C!%5BCDATA%5B%0A%20%20%20%20.fil0%20%7Bfill%3Alightgrey%7D%0A%20%20%20%5D%5D%3E%0A%20%20%3C%2Fstyle%3E%0A%20%3C%2Fdefs%3E%0A%20%3Cg%20id%3D%22Layer_x0020_1%22%3E%0A%20%20%3Cmetadata%20id%3D%22CorelCorpID_0Corel-Layer%22%2F%3E%0A%20%20%3Cg%20id%3D%22_2205236360080%22%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%20%3Cg%3E%0A%20%20%20%20%20%3Cg%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22fil0%22%20d%3D%22M7%2012l22%200c1%2C0%202%2C-1%202%2C-2%200%2C-1%20-1%2C-2%20-2%2C-2l-22%200%204%20-5c1%2C0%201%2C-2%200%2C-2%20-1%2C-1%20-2%2C-1%20-3%2C0l-7%207c0%2C0%20-1%2C0%20-1%2C1%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C1%200%2C1%200%2C1%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C1%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%201%2C0%201%2C0%200%2C0%200%2C0%200%2C0l7%208c1%2C1%202%2C1%203%2C0%201%2C-1%201%2C-2%200%2C-3l-4%20-4z%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22fil0%22%20d%3D%22M46%2023c1%2C0%201%2C0%201%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C-1%200%2C-1%200%2C-1%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C-1%200%2C-1%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C-1%200%2C-1%200%2C-1%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%20-1%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0l-7%20-8c-1%2C0%20-2%2C0%20-3%2C0%20-1%2C1%20-1%2C2%200%2C3l4%205%20-22%200c-1%2C0%20-2%2C0%20-2%2C2%200%2C1%201%2C1%202%2C1l22%200%20-4%205c-1%2C1%20-1%2C2%200%2C3%201%2C0%202%2C0%203%2C0l7%20-8c0%2C0%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0z%22%2F%3E%0A%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%20%3Cg%3E%0A%20%20%20%3C%2Fg%3E%0A%20%20%3C%2Fg%3E%0A%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"></span>
</button></span>
</span>

<span>

<span class="tc-tiddler-title-icon" style="fill:;">

</span>



<h2 class="tc-title">
Як додати інтерактивну SVG-схему
</h2>

</span>

</div>

<div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div>
</div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal">
<div class="tc-subtitle">
<a class="tc-tiddlylink tc-tiddlylink-missing" href=".html">

</a> 28-8-2018
</div>
</div>
<div class=" tc-reveal">
<div class="tc-tags-wrapper"><span class="tc-tag-list-item">
<span class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:#333333;
color:#333333;">
 Сумісна робота в проекті
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span></div>
</div>

<div class="tc-tiddler-body tc-reveal"><p>Спочатку було поставлене питання щодо вставки інтерактивного SVG-зображення у TW5 (під управлінням бравзера Chrome). У даному випадку інтерактивність забезпечувалась підв'язуванням гіперлінків під окремі елементи зображення так, щоб при наведенні миші змінювався курсор миші і фоновий колір об'єкта.</p><p>Для цього був створений тідлер <code>$:/boa/SVG_CSS</code>, що містить відповідні стилі:</p><pre><code>rect, ellipse, path, circle, polygon 
    { transition: .6s fill; !important; }
a:hover rect, a:hover ellipse, a:hover path, a:hover circle, a:hover polygon 
    { fill: lightgreen !important; }</code></pre><p>Але після звичайного перетаскування SVG-зображення у TW5 виявилась його неповна функціональність, а саме : форма курсора миші залишалась незмінною, колір фону відмічених для гіперпосилань елементів зображення теж не змінювався і, зрештою, перехід за посилання у результати кліка миші теж не здійснювався.</p><p>Як з'ясувалось, проблема хоча нетривіальна, але відома. Саме за результатами її вивчення і виникла ця стаття, у якій описана послідовність кроків для підготовки SVG-зображення, так щоб воно коректно відображалось і функціонувало у Tiddlywiki під різними бравзерами.</p><h2 class="">Кроки</h2><ol><li>В <strong>MS Visio</strong> готуємо блок-схему обраної частини ОВД, для цього:<ul><li>створюємо та зберігаємо проект Visio у стандартному розширенні за замовчуванням;</li><li>шрифт Calibri, 14пт;</li><li>обираємо блоки якими ми будемо формувати схему, для цього переходимо: <code>Дополнительные фигуры &gt; Общее &gt; Блоки</code>;</li><li>робимо посилання на тідлери до кожного блоку, для чого: наводимо курсор миші на необхідний блок, правий клік миші; в меню вибираємо <code>гиперссилка</code>; у полі <code>Адрес</code> вводимо точну назву тідлера (це поле тідлера 'title'), на який ми хочемо послатись у вигляді: <strong>#назва тідлера</strong> (<strong>УВАГА!</strong> точній назві тідлера передує знак <code>#</code> без жодного пробілу, також не повинно бути пробілу в кінці тексту).</li></ul></li><li>Коли ми вже зробили схему. Через верхнє головне меню <strong>Visio</strong> перейти на <code>Конструктор &gt; Размер &gt; По размеру документа</code>. Це зменшить поле аркушу власне до розмірів самої схеми.</li><li>Готову схему зберігаємо як SVG, для цього переходимо : <code>Файл &gt; Сохранить как &gt; Масштабируемый векторный рисунок</code>. <strong>УВАГА!</strong> Знімаємо галочку з пункту <code>Включать в файлы данные Visio</code>.</li><li>Далі нам потрібно відкрити наш проект на <a class="tc-tiddlylink-external" href="https://protw.github.io/eco/" rel="noopener noreferrer" target="_blank">https://protw.github.io/eco/</a>. Перетягуємо підготовлений SVG-файл до нашої сторінки Tiddlywiki у браузері. У полі бравзера з'явиться тідлер <code>$:/Import</code> зі списком щойно перетягнутих файлів зображень і кнопкою <code>Import</code>. Натискаємо кнопку <code>Import</code>. В цьому тідлері натомість список активних посилань щойно утворених тідлерів зображень з префіксом <code>.svg</code> наприкінці імені кожного тідлера.</li><li>Відкриваємо наше зображення (наприклад, <code>Загальна схема.svg</code>), натиснувши на його посилання і в режимі редагування виконуємо такі кроки:<ul><li>видаляємо рядки коду зверху до <code>&lt;svg</code> виключно. (<code>&lt;svg</code> залишається);</li><li>змінюємо тип тідлеру (внизу тідлера у полі <code>Type</code>) з автоматично встановленого  <code>Structured vector graphic (image/svg+xml)</code> на <code>TiddlyWiki 5 (vnd.tiddlywiki)</code>.</li></ul></li><li>Зберігаємо тідлер (і виходимо з режиму редагування).</li><li>У цій точці, як правило, ми бачимо зображення, що некоректно відображене у TW5. Питання відоме з форумів, але чітких пояснень щодо причин цього ефекту знайти не вдалось. Тим не менш, поради з цих же форумів привели до рішення обробки зображення з допомогою так званих програм SVG-мінімізаторів (SVG-minimizers). Нами успішно опробувані такі SVG-мінімізатори:<ul><li><strong>SVGOMG</strong> <a class="tc-tiddlylink-external" href="https://jakearchibald.github.io/svgomg/" rel="noopener noreferrer" target="_blank">https://jakearchibald.github.io/svgomg/</a></li><li><strong>SVG Editor</strong> <a class="tc-tiddlylink-external" href="https://petercollingridge.appspot.com/svg-editor" rel="noopener noreferrer" target="_blank">https://petercollingridge.appspot.com/svg-editor</a></li></ul></li><li>Обробка SVG-зображення виглядає таким чином:<ul><li>Знову відкриваємо тідлер із SVG-зображенням для редагування та повністю відмічаємо та копіюємо у буфер обміну його код;</li><li>Вставляємо код до SVG-мінімізатора, наприклад, використовуючи мінімізатор <a class="tc-tiddlylink-external" href="https://petercollingridge.appspot.com/svg-editor" rel="noopener noreferrer" target="_blank">SVG Editor</a>, та натискаємо <code>Load</code>; </li><li>Рекомендовано використовувати такі пункти налаштування (галочки) у цьому мінімізаторі: у блоці <code>Optimisation</code> обрати пункт <code>None</code>; У блоці Advanced options обрати всі &quot;галочки&quot; окрім, <code>xlink</code> та <code>Remove IDs (breaks gradients)</code>. Відмічання тих чи інших &quot;галочок&quot; носить експериментальний характер. Критерієм &quot;вдалого&quot; вибору є вигляд зображення у правій частині поля бравзера;</li><li>Після виставлення &quot;галочок&quot; переходимо на пункт меню <code>Output</code>, копіюємо SVG-код та вставляємо його замість старого коду у нашому тідлері SVG-зображення.</li><li>Зберігаємо тідлер.</li></ul></li><li>Якщо SVG-зображення коректно відображається в TW5, а гіперпосилання при наведенні курсору підсвічуються та після кліку миші відбувається перехід на належний тідлер, то SVG-зображення готово для використання. Про всяк випадок зберігаємо тідлер (із SVG-зображенням) як JSON формат, для чого: натискаємо на нашому тідлері <code>more options &gt; export tidler &gt; JSON file</code>.</li><li>Тепер, коли зображення готово, його можна затягнути до проекта не локальному комп'ютері з подальшою синхронізацією локального і глобального репозитаріїв (див. <a class="tc-tiddlylink tc-tiddlylink-resolves" href="%25D0%259E%25D0%25B3%25D0%25BB%25D1%258F%25D0%25B4%2520%25D0%25B2%25D1%2585%25D0%25BE%25D0%25B4%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25BD%25D1%258F%2520%25D0%25B4%25D0%25BE%2520%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D1%2583.html">Огляд входження до проекту</a>)</li></ol></div>



</div>

</p>
</section>
</body>
</html>
